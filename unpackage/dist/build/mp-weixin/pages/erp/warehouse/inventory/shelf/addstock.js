"use strict";const t=require("../../../../../common/vendor.js");require("../../../../../utils/request.js"),require("../../../../../store/index.js");const e={components:{ShelfHead:()=>"./components/shelfHead.js",WhsList:()=>"./components/whsList.js"},data:()=>({search:"",placeholderStyle:"color:#dedede;font-size:14px",styles:{color:"#000",borderColor:"#eee"},tabclassAct:"flex-item text-center activetab",tabclassNor:"flex-item text-center",shelfid:"",formid:"",opttype:"",addressnum:"",shelftreepath:"",addressid:"",amount:"",isall:!0,data:{},materialid:""}),onLoad(t){var e=this;if(t){const a=t.detailData||t.payload;try{let t=JSON.parse(decodeURIComponent(a));this.data=t,this.addressnum=t.addressnum,this.shelftreepath=t.shelftreepath,this.materialid=t.materialid,this.shelfid=this.data.shelfid,this.amount=this.data.amount,this.formid=this.data.formid,this.opttype=this.data.opttype}catch(s){this.data=JSON.parse(a),this.addressnum=this.data.addressnum,this.shelftreepath=this.data.shelftreepath,this.shelfid=this.data.shelfid,this.materialid=data.materialid,this.amount=this.data.amount,this.formid=this.data.formid,this.opttype=this.data.opttype}setTimeout((function(){e.$refs.myhead.getInfo(e.addressnum,e.shelftreepath,e.shelfid)}),300)}},methods:{infoLoad(t){this.addressid=t.addressid,this.shelfid=t.id,this.refreshTable()},refreshTable(){this.$nextTick((()=>{this.$refs.whslist.refreshList(this.addressid,this.shelfid,this.search,this.materialid,this.amount,this.formid,this.opttype)}))},afterSubmit(e){let s={addressnum:this.addressnum,shelftreepath:this.shelftreepath,ftype:"add",materialid:this.data.materialid,shelfid:this.shelfid,amount:this.amount,formid:e,formtype:this.opttype};t.index.navigateTo({url:"./result?detailData="+encodeURIComponent(JSON.stringify(s))})},input(t){this.search=t,this.refreshTable()}}};if(!Array){(t.resolveComponent("ShelfHead")+t.resolveComponent("uni-easyinput")+t.resolveComponent("WhsList"))()}Math;const s=t._export_sfc(e,[["render",function(e,s,a,i,d,h){return{a:t.sr("myhead","317d36af-0"),b:t.o(h.infoLoad),c:t.p({shelfid:d.shelfid}),d:t.o(h.input),e:t.o((t=>d.search=t)),f:t.p({type:"text",styles:d.styles,placeholderStyle:d.placeholderStyle,placeholder:"请输入SKU",modelValue:d.search}),g:t.sr("whslist","317d36af-2"),h:t.o(h.afterSubmit)}}]]);wx.createPage(s);
